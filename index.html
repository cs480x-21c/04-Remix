<select id="selectButton"></select>
<script src="https://d3js.org/d3.v6.min.js"></script>

<svg id="vis1" width = "900" height = "500"> </svg>
<svg id="vis2" width = "900" height = "250"></svg>
<svg id="vis3" width = "1000" height = "800"></svg>
<svg id="vis4" width = "900" height = "500"></svg>

<script>
  console.log(d3)
    
    //Set the graph salary dimensions
    var margin1 = {top: 20, right: 10, bottom: 20, left: 100},
        width1 = 900 - margin1.left - margin1.right,
        height1 = 500 - margin1.top - margin1.bottom;

    var margin2 = {top: 50, right: 10, bottom: 20, left: 100},
        width2 = 900 - margin2.left - margin2.right,
        height2 = 250 - margin2.top - margin2.bottom;

    // add the options to the button
    var allYears = ["2010", "2011", "2012", "2013", "2014", "2015", "2016", "2017", "2018", "2019"];

    d3.select("#selectButton")
      .selectAll('myOptions')
     	  .data(allYears)
      .enter()
    	.append('option')
        .text(function (d) {return d; }) // text showed in the menu
        .attr("value", function (d) { return d; }) // corresponding value returned by the button
    
    //Make the svg background space
    d3.select('#vis1')
        .attr("width", width1 + margin1.left + margin1.right)
        .attr("height", height1 + margin1.top + margin1.bottom)
        .append("g")
            .attr("transform","translate(" + margin1.left + "," + margin1.top + ")");

    //Make the svg background space
    d3.select('#vis4')
        .attr("width", width1 + margin1.left + margin1.right)
        .attr("height", height1 + margin1.top + margin1.bottom)
        .append("g")
            .attr("transform","translate(" + margin1.left + "," + margin1.top + ")");

      
    //Let's take in some data
    d3.csv('Police.csv').then(
      function(data)
      {
        //Take in the data for the polygon map for values based on the year
        let array2010 = makeYearArrays(data, 0)
        let array2011 = makeYearArrays(data, 1)
        let array2012 = makeYearArrays(data, 2)
        let array2013 = makeYearArrays(data, 3)
        let array2014 = makeYearArrays(data, 4)
        let array2015 = makeYearArrays(data, 5)
        let array2016 = makeYearArrays(data, 6)
        let array2017 = makeYearArrays(data, 7)
        let array2018 = makeYearArrays(data, 8)
        let array2019 = makeYearArrays(data, 9)

        //Take in the data for the line graph to orient based on the state
        let arrayAL = makeStateArrays(data, 0)
        let arrayAK = makeStateArrays(data, 10)
        let arrayAZ = makeStateArrays(data, 20)
        let arrayAR = makeStateArrays(data, 30)
        let arrayCA = makeStateArrays(data, 40)
        let arrayCO = makeStateArrays(data, 50)
        let arrayCT = makeStateArrays(data, 60)
        let arrayDE = makeStateArrays(data, 70)
        let arrayFL = makeStateArrays(data, 80)
        let arrayGA = makeStateArrays(data, 90)
        let arrayHI = makeStateArrays(data, 100)
        let arrayID = makeStateArrays(data, 110)
        let arrayIL = makeStateArrays(data, 120)
        let arrayIN = makeStateArrays(data, 130)
        let arrayIA = makeStateArrays(data, 140)
        let arrayKS = makeStateArrays(data, 150)
        let arrayKY = makeStateArrays(data, 160)
        let arrayLA = makeStateArrays(data, 170)
        let arrayME = makeStateArrays(data, 180)
        let arrayMD = makeStateArrays(data, 190)
        let arrayMA = makeStateArrays(data, 200)
        let arrayMI = makeStateArrays(data, 210)
        let arrayMN = makeStateArrays(data, 220)
        let arrayMS = makeStateArrays(data, 230)
        let arrayMO = makeStateArrays(data, 240)
        let arrayMT = makeStateArrays(data, 250)
        let arrayNE = makeStateArrays(data, 260)
        let arrayNV = makeStateArrays(data, 270)
        let arrayNH = makeStateArrays(data, 280)
        let arrayNM = makeStateArrays(data, 290)
        let arrayNJ = makeStateArrays(data, 300)
        let arrayNY = makeStateArrays(data, 310)
        let arrayNC = makeStateArrays(data, 320)
        let arrayND = makeStateArrays(data, 330)
        let arrayOH = makeStateArrays(data, 340)
        let arrayOK = makeStateArrays(data, 350)
        let arrayOR = makeStateArrays(data, 360)
        let arrayPA = makeStateArrays(data, 370)
        let arrayRI = makeStateArrays(data, 380)
        let arraySC = makeStateArrays(data, 390)
        let arraySD = makeStateArrays(data, 400)
        let arrayTN = makeStateArrays(data, 410)
        let arrayTX = makeStateArrays(data, 420)
        let arrayUT = makeStateArrays(data, 430)
        let arrayVT = makeStateArrays(data, 440)
        let arrayVA = makeStateArrays(data, 450)
        let arrayWA = makeStateArrays(data, 460)
        let arrayWV = makeStateArrays(data, 470)
        let arrayWI = makeStateArrays(data, 480)
        let arrayWY = makeStateArrays(data, 490)

        //Monitor which is highlighted
        //In this case, ensure the only one that is clicked on is highligthed
        var stateInterested = null; 

        //Another variable to monitor what year it is
        var yearInterested = null

        //Insert the legend for the Hexagon graph
        d3.select("#vis2")
          .append('image')
          .attr('href', 'Scale in svg2.png')
          .attr('x', 110)
          .attr('y', 15)
          .attr('width', 800)
          .attr('height', 300)
 
        //The text for the hexagon map vis
        d3.select("#vis2")
            .append("text")
            .attr("id", "HexTitleText")
            .attr("x", '275') 
            .attr("y", '50')
            .attr('fill', 'black')
            .attr('stroke', 'bold')
            .attr('font-size', 35)
            .text(`US Average Annual Police Salary in ${d3.select("#selectButton").property("value")}`)

        //Draw the polygons with colors on the color function
        drawPolygon(array2010, array2011, array2012, array2013, array2014, array2015, array2016, array2017, array2018, array2019, stateInterested)

          //Draw the line graph of salary overtime for each state in svg 2
            // Add X axis --> it is a date format
            var xScale1 = d3.scaleLinear()
                .domain([2010, 2019])
                .range([margin1.left, width1])
                .nice();
  
                d3.select("#vis1")
                  .append("g")
                  .attr("transform", "translate(0," + height1 + ")")
                  .call(d3.axisBottom(xScale1))

                d3.select("#vis1")
                  .append("text")
                  .attr("transform","translate(" + width1 / 2 + " ," + (height1 + 30) + ")")
                  .style("text-anchor", "middle")
                  .text("Year")

              // Add Y axis
              var yScale1 = d3.scaleLinear()
                .domain([30000, 140000])
                .range([height1, margin1.top])
                .nice();
        
              d3.select("#vis1")
                  .append("g")
                  .attr("transform", "translate(" + (margin1.left) + ",0)")
                  .call(d3.axisLeft(yScale1))

              d3.select("#vis1")
                  .append("text")
                  .attr("transform", "rotate(-90)")
                  .attr("y", 30)
                  .attr("x", 0 - height1 / 2)
                  .style("text-anchor", "middle")
                  .text("US Average Annual Police Employee Salary (US Dollar)");
            
              //Chart title
              d3.select('#vis1')
                .append("text")
                .attr("x", (width1 / 2))             
                .attr("y", 0 - (margin1.top - 33))
                .attr("text-anchor", "middle")  
                .style("font-size", "16px") 
                .style("text-decoration", "underline")  
                .text("US Average Annual Police Salary from 2010 - 2019");

              //Draw the lines for each state (there are 50 of them...oof...)
              //Be ready again for this long list of objects
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayAL)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "AL")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateAL").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateAL").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayAK)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "AK")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateAK").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateAK").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayAZ)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "AZ")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)})) 
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateAZ").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateAZ").attr("stroke-width", 1.0)
                    })        
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayAR)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "AR")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateAR").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateAR").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayCA)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "CA")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateCA").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateCA").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayCO)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "CO")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateCO").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateCO").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayCT)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "CT")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateCT").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateCT").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayDE)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "DE")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateDE").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateDE").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayFL)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "FL")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateFL").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateFL").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayGA)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "GA")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateGA").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateGA").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")  //NO DATA BEEN DONE FOR FORMALITY
                .append("g")
                .append("path")
                  .datum(arrayHI)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "HI")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateHI").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateHI").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayID)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "ID")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateID").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateID").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayIL)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "IL")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateIL").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateIL").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayIN)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "IN")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateIN").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateIN").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayIA)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "IA")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateIA").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateIA").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayKS)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "KS")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateKS").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateKS").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayKY)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "KY")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateKY").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateKY").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayLA)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "LA")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateLA").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateLA").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayME)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "ME")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateME").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateME").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayMD)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "MD")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateMD").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateMD").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayMA)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "MA")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateMA").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateMA").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayMI)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "MI")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateMI").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateMI").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayMN)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "MN")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateMN").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateMN").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayMS)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "MS")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateMS").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateMS").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayMO)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "MO")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateMO").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateMO").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayMT)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "MT")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateMT").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateMT").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayNE)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "NE")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateNE").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateNE").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayNV)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "NV")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateNV").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateNV").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayNH)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "NH")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateNH").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateNH").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayNM)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "NM")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateNM").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateNM").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayNJ)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "NJ")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateNJ").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateNJ").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayNY)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "NY")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateNY").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateNY").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayNC)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "NC")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateNC").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateNC").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayND)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "ND")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateND").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateND").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayOH)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "OH")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateOH").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateOH").attr("stroke-width", 1.0)
                    })
               d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayOK)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "OK")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateOK").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateOK").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayOR)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "OR")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateOR").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateOR").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayPA)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "PA")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#statePA").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#statePA").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayRI)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "RI")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateRI").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateRI").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arraySC)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "SC")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateSC").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateSC").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arraySD)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "SD")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateSD").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateSD").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayTN)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "TN")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateTN").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateTN").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayTX)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "TX")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateTX").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateTX").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayUT)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "UT")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateUT").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateUT").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayVT)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "VT")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateVT").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateVT").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayVA)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "VA")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateVA").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateVA").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayWA)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "WA")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateWA").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateWA").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayWV)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "WV")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateWV").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateWV").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayWI)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "WI")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateWI").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateWI").attr("stroke-width", 1.0)
                    })
              d3.select("#vis1")
                .append("g")
                .append("path")
                  .datum(arrayWY)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "WY")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.salary)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateWY").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateWY").attr("stroke-width", 1.0)
                    })

          //Draw the line graph of police employees overtime for each state in svg 2
            // Add X axis --> it is a date format
            var xScale1 = d3.scaleLinear()
                .domain([2010, 2019])
                .range([margin1.left, width1])
                .nice();
  
                d3.select("#vis4")
                  .append("g")
                  .attr("transform", "translate(0," + height1 + ")")
                  .call(d3.axisBottom(xScale1))

                d3.select("#vis4")
                  .append("text")
                  .attr("transform","translate(" + width1 / 2 + " ," + (height1 + 30) + ")")
                  .style("text-anchor", "middle")
                  .text("Year")

              // Add Y axis
              var yScale1 = d3.scaleLinear()
                .domain([0, 12000])
                .range([height1, margin1.top])
                .nice();
        
              d3.select("#vis4")
                  .append("g")
                  .attr("transform", "translate(" + (margin1.left) + ",0)")
                  .call(d3.axisLeft(yScale1))

              d3.select("#vis4")
                  .append("text")
                  .attr("transform", "rotate(-90)")
                  .attr("y", 30)
                  .attr("x", 0 - height1 / 2)
                  .style("text-anchor", "middle")
                  .text("Police Full-Time Equivalent Employees");
            
              //Chart title
              d3.select('#vis4')
                .append("text")
                .attr("x", (width1 / 2))             
                .attr("y", 0 - (margin1.top - 32))
                .attr("text-anchor", "middle")  
                .style("font-size", "16px") 
                .style("text-decoration", "underline")  
                .text("Police Full-Time Employee Equivalents from 2010 - 2019");

              //Draw the lines for each state (there are 50 of them...oof...)
              //Be ready again for this long list of objects
              //In the label its stateInitials and e for emplyment
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayAL)
                  .attr("stroke", "gray")
                  .style("stroke-width", 2.0)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "ALe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateAL").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateAL").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayAK)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "AKe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateAK").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateAK").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayAZ)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "AZe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateAZ").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateAZ").attr("stroke-width", 1.0)
                    })         
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayAR)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "ARe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateAR").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateAR").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayCA)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "CAe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateCA").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateCA").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayCO)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "COe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateCO").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateCO").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayCT)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "CTe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateCT").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateCT").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayDE)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "DEe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateDE").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateDE").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayFL)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "FLe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateFL").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateFL").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayGA)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "GAe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateGA").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateGA").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")  //NO DATA BUT DONE FOR FORMALITY
                .append("g")
                .append("path")
                  .datum(arrayHI)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "HIe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayID)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "IDe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateID").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateID").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayIL)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "ILe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateIL").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateIL").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayIN)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "INe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateIN").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateIN").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayIA)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "IAe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateIA").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateIA").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayKS)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "KSe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateKS").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateKS").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayKY)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "KYe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateKY").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateKY").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayLA)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "LAe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateLA").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateLA").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayME)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "MEe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateME").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateME").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayMD)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "MDe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateMD").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateMD").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayMA)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "MAe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateMA").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateMA").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayMI)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "MIe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateMI").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateMI").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayMN)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "MNe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateMN").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateMN").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayMS)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "MSe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateMS").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateMS").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayMO)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "MOe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateMO").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateMO").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayMT)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "MTe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateMT").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateMT").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayNE)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "NEe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateNE").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateNE").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayNV)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "NVe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateNV").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateNV").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayNH)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "NHe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateNH").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateNH").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayNM)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "NMe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateNM").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateNM").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayNJ)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "NJe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateNJ").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateNJ").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayNY)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "NYe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateNY").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateNY").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayNC)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "NCe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateNC").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateNC").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayND)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "NDe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateND").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateND").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayOH)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "OHe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateOH").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateOH").attr("stroke-width", 1.0)
                    })
               d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayOK)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "OKe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateOK").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateOK").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayOR)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "ORe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateOR").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateOR").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayPA)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "PAe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#statePA").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#statePA").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayRI)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "RIe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateRI").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateRI").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arraySC)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "SCe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateSC").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateSC").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arraySD)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "SDe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateSD").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateSD").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayTN)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "TNe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateTN").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateTN").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayTX)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "TXe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateTX").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateTX").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayUT)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "UTe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateUT").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateUT").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayVT)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "VTe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateVT").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateVT").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayVA)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "VAe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateVA").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateVA").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayWA)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "WAe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateWA").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateWA").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayWV)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "WVe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateWV").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateWV").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayWI)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "WIe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateWI").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateWI").attr("stroke-width", 1.0)
                    })
              d3.select("#vis4")
                .append("g")
                .append("path")
                  .datum(arrayWY)
                  .attr("stroke", "gray")
                  .style("stroke-width", 1.5)
                  .style("fill", "none")
                  .attr("stroke-opacity", 0.4)
                  .attr("id", "WYe")
                  .attr("d", d3.line()
                         .x(function(d) {return xScale1(d.year)})
                         .y(function(d) {return yScale1(d.employment)}))
                  .on("mouseover", 
                    function()
                    {
                      d3.select("#stateWY").attr("stroke-width", 3.0)
                    })
                  .on("mouseout",
                    function()
                    {
                      d3.select("#stateWY").attr("stroke-width", 1.0)
                    })
         
      //Polygon updates
      //SAMPLE: d3.select("#HexState").attr("fill", polygonColor(data))
      //Update based on the selected value
      d3.select("#selectButton").on("change", 
        function(d) 
        {
          // recover the option that has been chosen
          var selectedOption = d3.select(this).property("value")
          d3.select("#HexTitleText").text(`US Average Annual Police Salary in ${d3.select("#selectButton").property("value")}`)
          
          updateGrayGraphs(array2010);
          drawPolygon(array2010,array2011,array2012,array2013,array2014,array2015,array2016,array2017,array2018,array2019, stateInterested)
          
          // run the updateChart function with this selected option
          update(selectedOption, array2010, array2011 ,array2012, array2013, array2014, array2015, array2016, array2017, array2018, array2019, stateInterested)
        });
  });

    //This function serves to make the object arrays from the csv for individual lines in line graph
    function makeStateArrays(data, i)
    {
      let array = []

      for(j = i; j < (i + 10); j += 1)
          {
            var stateObject = 
              {
                 state: data[j]["State"],
                 year: data[j]["Year"],
                 salary: data[j]["AnnualSalary"],
                 employment: data[j]["FullTimeEmploymentEquivalent"]
              }
            array.push(stateObject)
          }

      return array
    }

    function makeYearArrays(data, i)
    {
      let array = []

      for(j = i; j < (500); j += 10)
      {
        var yearObject =
        {
          state: data[j]["State"],
          salary: data[j]["AnnualSalary"],
          employment: data[j]["FullTimeEmploymentEquivalent"]

        }
        array.push(yearObject)
      }

      return array
    }

    function drawPolygon(array2010, array2011, array2012, array2013, array2014, array2015, array2016, array2017, array2018, array2019, stateInterested)
    {
      //Color
      var colorValue = d3.scaleSequential(d3.interpolateRdBu)
        .domain([30000, 140000]);

      //AK
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "100,130 125,150 125,175 100,195 75,175 75,150")
        .attr("stroke", "black")
        .attr('id', 'stateAK')
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[1]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[1]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[1]["salary"])
                break

              case "2013":
                return colorValue(array2013[1]["salary"])
                break

              case "2014":
                return colorValue(array2014[1]["salary"])
                break

              case "2015":
                return colorValue(array2015[1]["salary"])
                break

              case "2016":
                return colorValue(array2016[1]["salary"])
                break

              case "2017":
                return colorValue(array2017[1]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[1]["salary"])
                break

              case "2019":
                return colorValue(array2019[1]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })

      d3.select("#vis3")
        .append("text")
        .attr("x", '85') 
        .attr("y", '170')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("AK")
        .on("click", 
          function(d)
          {
            if(stateInterested === "AK")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "AK"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })
        
      //HI
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "100,530 125,550 125,575 100,595 75,575 75,550")
        .attr("stroke", "black")
        .attr("id", "stateHI")
        .attr('fill', "gray") 

      d3.select("#vis3")
        .append("text")
        .attr("x", '88') 
        .attr("y", '570')
        .attr('fill', 'white')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("HI")
        .on("click", 
          function(d)
          {
            if(stateInterested === "HI")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "HI"
              alert("There is no annual salary data or full-time equivalent employment for Hawai'i in the original dataset. The data is marked as 0 for all points - I'm sorry :(")
            }
          })

      //WA
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "200,240 225,260 225,285 200,305 175,285 175,260")
        .attr("stroke", "black")
        .attr("id", "stateWA")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[46]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[46]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[46]["salary"])
                break

              case "2013":
                return colorValue(array2013[46]["salary"])
                break

              case "2014":
                return colorValue(array2014[46]["salary"])
                break

              case "2015":
                return colorValue(array2015[46]["salary"])
                break

              case "2016":
                return colorValue(array2016[46]["salary"])
                break

              case "2017":
                return colorValue(array2017[46]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[46]["salary"])
                break

              case "2019":
                return colorValue(array2019[46]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '185') 
        .attr("y", '280')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("WA")
        .on("click", 
          function(d)
          {
            if(stateInterested === "WA")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "WA"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //ID   
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "230,290 255,310 255,335 230,355 205,335 205,310")
        .attr("stroke", "black")
        .attr("id", "stateID")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[11]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[11]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[11]["salary"])
                break

              case "2013":
                return colorValue(array2013[11]["salary"])
                break

              case "2014":
                return colorValue(array2014[11]["salary"])
                break

              case "2015":
                return colorValue(array2015[11]["salary"])
                break

              case "2016":
                return colorValue(array2016[11]["salary"])
                break

              case "2017":
                return colorValue(array2017[11]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[11]["salary"])
                break

              case "2019":
                return colorValue(array2019[11]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '220') 
        .attr("y", '330')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("ID")
        .on("click", 
          function(d)
          {
            if(stateInterested === "ID")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "ID"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //OR  
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "200,340 225,360 225,385 200,405 175,385 175,360")
        .attr("stroke", "black")
        .attr("id", "stateOR")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[36]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[36]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[36]["salary"])
                break

              case "2013":
                return colorValue(array2013[36]["salary"])
                break

              case "2014":
                return colorValue(array2014[36]["salary"])
                break

              case "2015":
                return colorValue(array2015[36]["salary"])
                break

              case "2016":
                return colorValue(array2016[36]["salary"])
                break

              case "2017":
                return colorValue(array2017[36]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[36]["salary"])
                break

              case "2019":
                return colorValue(array2019[36]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '185') 
        .attr("y", '380')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("OR")
        .on("click", 
          function(d)
          {
            if(stateInterested === "OR")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "OR"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //MT
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "260,240 285,260 285,285 260,305 235,285 235,260")
        .attr("stroke", "black")
        .attr("id", "stateMT")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[25]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[25]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[25]["salary"])
                break

              case "2013":
                return colorValue(array2013[25]["salary"])
                break

              case "2014":
                return colorValue(array2014[25]["salary"])
                break

              case "2015":
                return colorValue(array2015[25]["salary"])
                break

              case "2016":
                return colorValue(array2016[25]["salary"])
                break

              case "2017":
                return colorValue(array2017[25]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[25]["salary"])
                break

              case "2019":
                return colorValue(array2019[25]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '245') 
        .attr("y", '280')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("MT")
        .on("click", 
          function(d)
          {
            if(stateInterested === "MT")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "MT"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //WY   
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "290,290 315,310 315,335 290,355 265,335 265,310")
        .attr("stroke", "black")
        .attr("id", "stateWY")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[49]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[49]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[49]["salary"])
                break

              case "2013":
                return colorValue(array2013[49]["salary"])
                break

              case "2014":
                return colorValue(array2014[49]["salary"])
                break

              case "2015":
                return colorValue(array2015[49]["salary"])
                break

              case "2016":
                return colorValue(array2016[49]["salary"])
                break

              case "2017":
                return colorValue(array2017[49]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[49]["salary"])
                break

              case "2019":
                return colorValue(array2019[49]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '273') 
        .attr("y", '330')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("WY")
        .on("click", 
          function(d)
          {
            if(stateInterested === "WY")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "WY"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //NV  
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "260,340 285,360 285,385 260,405 235,385 235,360")
        .attr("stroke", "black")
        .attr("id", "stateNV")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[27]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[27]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[27]["salary"])
                break

              case "2013":
                return colorValue(array2013[27]["salary"])
                break

              case "2014":
                return colorValue(array2014[27]["salary"])
                break

              case "2015":
                return colorValue(array2015[27]["salary"])
                break

              case "2016":
                return colorValue(array2016[27]["salary"])
                break

              case "2017":
                return colorValue(array2017[27]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[27]["salary"])
                break

              case "2019":
                return colorValue(array2019[27]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '245') 
        .attr("y", '380')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("NV")
        .on("click", 
          function(d)
          {
            if(stateInterested === "NV")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "NV"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //CA   
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "230,390 255,410 255,435 230,455 205,435 205,410")
        .attr("stroke", "black")
        .attr("id", "stateCA")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[4]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[4]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[4]["salary"])
                break

              case "2013":
                return colorValue(array2013[4]["salary"])
                break

              case "2014":
                return colorValue(array2014[4]["salary"])
                break

              case "2015":
                return colorValue(array2015[4]["salary"])
                break

              case "2016":
                return colorValue(array2016[4]["salary"])
                break

              case "2017":
                return colorValue(array2017[4]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[4]["salary"])
                break

              case "2019":
                return colorValue(array2019[4]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '216') 
        .attr("y", '430')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("CA")
        .on("click", 
          function(d)
          {
            if(stateInterested === "CA")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "CA"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //ND
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "320,240 345,260 345,285 320,305 295,285 295,260")
        .attr("stroke", "black")
        .attr("id", "stateND")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[33]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[33]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[33]["salary"])
                break

              case "2013":
                return colorValue(array2013[33]["salary"])
                break

              case "2014":
                return colorValue(array2014[33]["salary"])
                break

              case "2015":
                return colorValue(array2015[33]["salary"])
                break

              case "2016":
                return colorValue(array2016[33]["salary"])
                break

              case "2017":
                return colorValue(array2017[33]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[33]["salary"])
                break

              case "2019":
                return colorValue(array2019[33]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '305') 
        .attr("y", '280')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("ND")
        .on("click", 
          function(d)
          {
            if(stateInterested === "ND")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "ND"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //SD   
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "350,290 375,310 375,335 350,355 325,335 325,310")
        .attr("stroke", "black")
        .attr("id", "stateSD")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[40]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[40]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[40]["salary"])
                break

              case "2013":
                return colorValue(array2013[40]["salary"])
                break

              case "2014":
                return colorValue(array2014[40]["salary"])
                break

              case "2015":
                return colorValue(array2015[40]["salary"])
                break

              case "2016":
                return colorValue(array2016[40]["salary"])
                break

              case "2017":
                return colorValue(array2017[40]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[40]["salary"])
                break

              case "2019":
                return colorValue(array2019[40]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '337') 
        .attr("y", '330')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("SD")
        .on("click", 
          function(d)
          {
            if(stateInterested === "SD")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "SD"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //CO  
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "320,340 345,360 345,385 320,405 295,385 295,360")
        .attr("stroke", "black")
        .attr("id", "stateCO")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[5]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[5]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[5]["salary"])
                break

              case "2013":
                return colorValue(array2013[5]["salary"])
                break

              case "2014":
                return colorValue(array2014[5]["salary"])
                break

              case "2015":
                return colorValue(array2015[5]["salary"])
                break

              case "2016":
                return colorValue(array2016[5]["salary"])
                break

              case "2017":
                return colorValue(array2017[5]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[5]["salary"])
                break

              case "2019":
                return colorValue(array2019[5]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '305') 
        .attr("y", '380')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("CO")
        .on("click", 
          function(d)
          {
            if(stateInterested === "CO")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "CO"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //AZ   
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "290,390 315,410 315,435 290,455 265,435 265,410")
        .attr("stroke", "black")
        .attr("id", "stateAZ")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[2]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[2]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[2]["salary"])
                break

              case "2013":
                return colorValue(array2013[2]["salary"])
                break

              case "2014":
                return colorValue(array2014[2]["salary"])
                break

              case "2015":
                return colorValue(array2015[2]["salary"])
                break

              case "2016":
                return colorValue(array2016[2]["salary"])
                break

              case "2017":
                return colorValue(array2017[2]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[2]["salary"])
                break

              case "2019":
                return colorValue(array2019[2]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '276') 
        .attr("y", '430')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("AZ")
        .on("click", 
          function(d)
          {
            if(stateInterested === "AZ")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "AZ"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })
      
      //MN
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "380,240 405,260 405,285 380,305 355,285 355,260")
        .attr("stroke", "black")
        .attr("id", "stateMN")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[22]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[22]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[22]["salary"])
                break

              case "2013":
                return colorValue(array2013[22]["salary"])
                break

              case "2014":
                return colorValue(array2014[22]["salary"])
                break

              case "2015":
                return colorValue(array2015[22]["salary"])
                break

              case "2016":
                return colorValue(array2016[22]["salary"])
                break

              case "2017":
                return colorValue(array2017[22]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[22]["salary"])
                break

              case "2019":
                return colorValue(array2019[22]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '363') 
        .attr("y", '280')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("MN")
        .on("click", 
          function(d)
          {
            if(stateInterested === "MN")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "MN"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //IA   
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "410,290 435,310 435,335 410,355 385,335 385,310")
        .attr("stroke", "black")
        .attr("id", "stateIA")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[14]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[14]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[14]["salary"])
                break

              case "2013":
                return colorValue(array2013[14]["salary"])
                break

              case "2014":
                return colorValue(array2014[14]["salary"])
                break

              case "2015":
                return colorValue(array2015[14]["salary"])
                break

              case "2016":
                return colorValue(array2016[14]["salary"])
                break

              case "2017":
                return colorValue(array2017[14]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[14]["salary"])
                break

              case "2019":
                return colorValue(array2019[14]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '399') 
        .attr("y", '330')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("IA")
        .on("click", 
          function(d)
          {
            if(stateInterested === "IA")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "IA"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //NE  
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "380,340 405,360 405,385 380,405 355,385 355,360")
        .attr("stroke", "black")
        .attr("id", "stateNE")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[26]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[26]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[26]["salary"])
                break

              case "2013":
                return colorValue(array2013[26]["salary"])
                break

              case "2014":
                return colorValue(array2014[26]["salary"])
                break

              case "2015":
                return colorValue(array2015[26]["salary"])
                break

              case "2016":
                return colorValue(array2016[26]["salary"])
                break

              case "2017":
                return colorValue(array2017[26]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[26]["salary"])
                break

              case "2019":
                return colorValue(array2019[26]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '365') 
        .attr("y", '380')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("NE")
        .on("click", 
          function(d)
          {
            if(stateInterested === "NE")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "NE"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //UT   
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "350,390 375,410 375,435 350,455 325,435 325,410")
        .attr("stroke", "black")
        .attr("id", "stateUT")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[43]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[43]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[43]["salary"])
                break

              case "2013":
                return colorValue(array2013[43]["salary"])
                break

              case "2014":
                return colorValue(array2014[43]["salary"])
                break

              case "2015":
                return colorValue(array2015[43]["salary"])
                break

              case "2016":
                return colorValue(array2016[43]["salary"])
                break

              case "2017":
                return colorValue(array2017[43]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[43]["salary"])
                break

              case "2019":
                return colorValue(array2019[43]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '335') 
        .attr("y", '430')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("UT")
        .on("click", 
          function(d)
          {
            if(stateInterested === "UT")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "UT"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //NM  
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "320,440 345,460 345,485 320,505 295,485 295,460")
        .attr("stroke", "black")
        .attr("id", "stateNM")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[29]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[29]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[29]["salary"])
                break

              case "2013":
                return colorValue(array2013[29]["salary"])
                break

              case "2014":
                return colorValue(array2014[29]["salary"])
                break

              case "2015":
                return colorValue(array2015[29]["salary"])
                break

              case "2016":
                return colorValue(array2016[29]["salary"])
                break

              case "2017":
                return colorValue(array2017[29]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[29]["salary"])
                break

              case "2019":
                return colorValue(array2019[29]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '305') 
        .attr("y", '480')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("NM")
        .on("click", 
          function(d)
          {
            if(stateInterested === "NM")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "NM"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //WI
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "440,240 465,260 465,285 440,305 415,285 415,260")
        .attr("stroke", "black")
        .attr("id", "stateWI")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[48]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[48]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[48]["salary"])
                break

              case "2013":
                return colorValue(array2013[48]["salary"])
                break

              case "2014":
                return colorValue(array2014[48]["salary"])
                break

              case "2015":
                return colorValue(array2015[48]["salary"])
                break

              case "2016":
                return colorValue(array2016[48]["salary"])
                break

              case "2017":
                return colorValue(array2017[48]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[48]["salary"])
                break

              case "2019":
                return colorValue(array2019[48]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '425') 
        .attr("y", '280')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("WI")
        .on("click", 
          function(d)
          {
            if(stateInterested === "WI")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "WI"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //IL
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "470,290 495,310 495,335 470,355 445,335 445,310")
        .attr("stroke", "black")
        .attr("id", "stateIL")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[12]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[12]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[12]["salary"])
                break

              case "2013":
                return colorValue(array2013[12]["salary"])
                break

              case "2014":
                return colorValue(array2014[12]["salary"])
                break

              case "2015":
                return colorValue(array2015[12]["salary"])
                break

              case "2016":
                return colorValue(array2016[12]["salary"])
                break

              case "2017":
                return colorValue(array2017[12]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[12]["salary"])
                break

              case "2019":
                return colorValue(array2019[12]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '461') 
        .attr("y", '330')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("IL")
        .on("click", 
          function(d)
          {
            if(stateInterested === "IL")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "IL"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //MO  
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "440,340 465,360 465,385 440,405 415,385 415,360")
        .attr("stroke", "black")
        .attr("id", "stateMO")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[24]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[24]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[24]["salary"])
                break

              case "2013":
                return colorValue(array2013[24]["salary"])
                break

              case "2014":
                return colorValue(array2014[24]["salary"])
                break

              case "2015":
                return colorValue(array2015[24]["salary"])
                break

              case "2016":
                return colorValue(array2016[24]["salary"])
                break

              case "2017":
                return colorValue(array2017[24]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[24]["salary"])
                break

              case "2019":
                return colorValue(array2019[24]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '424') 
        .attr("y", '380')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("MO")
        .on("click", 
          function(d)
          {
            if(stateInterested === "MO")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "MO"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })
      
      //KS   
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "410,390 435,410 435,435 410,455 385,435 385,410")
        .attr("stroke", "black")
        .attr("id", "stateKS")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[15]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[15]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[15]["salary"])
                break

              case "2013":
                return colorValue(array2013[15]["salary"])
                break

              case "2014":
                return colorValue(array2014[15]["salary"])
                break

              case "2015":
                return colorValue(array2015[15]["salary"])
                break

              case "2016":
                return colorValue(array2016[15]["salary"])
                break

              case "2017":
                return colorValue(array2017[15]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[15]["salary"])
                break

              case "2019":
                return colorValue(array2019[15]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '396') 
        .attr("y", '430')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("KS")
        .on("click", 
          function(d)
          {
            if(stateInterested === "KS")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "KS"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //OK  
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "380,440 405,460 405,485 380,505 355,485 355,460")
        .attr("stroke", "black")
        .attr("id", "stateOK")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[35]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[35]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[35]["salary"])
                break

              case "2013":
                return colorValue(array2013[35]["salary"])
                break

              case "2014":
                return colorValue(array2014[35]["salary"])
                break

              case "2015":
                return colorValue(array2015[35]["salary"])
                break

              case "2016":
                return colorValue(array2016[35]["salary"])
                break

              case "2017":
                return colorValue(array2017[35]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[35]["salary"])
                break

              case "2019":
                return colorValue(array2019[35]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '365') 
        .attr("y", '480')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("OK")
        .on("click", 
          function(d)
          {
            if(stateInterested === "OK")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "OK"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //TX   
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "350,490 375,510 375,535 350,555 325,535 325,510")
        .attr("stroke", "black")
        .attr("id", "stateTX")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[42]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[42]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[42]["salary"])
                break

              case "2013":
                return colorValue(array2013[42]["salary"])
                break

              case "2014":
                return colorValue(array2014[42]["salary"])
                break

              case "2015":
                return colorValue(array2015[42]["salary"])
                break

              case "2016":
                return colorValue(array2016[42]["salary"])
                break

              case "2017":
                return colorValue(array2017[42]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[42]["salary"])
                break

              case "2019":
                return colorValue(array2019[42]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '335') 
        .attr("y", '530')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("TX")
        .on("click", 
          function(d)
          {
            if(stateInterested === "TX")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "TX"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //IN
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "530,290 555,310 555,335 530,355 505,335 505,310")
        .attr("stroke", "black")
        .attr("id", "stateIN")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[13]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[13]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[13]["salary"])
                break

              case "2013":
                return colorValue(array2013[13]["salary"])
                break

              case "2014":
                return colorValue(array2014[13]["salary"])
                break

              case "2015":
                return colorValue(array2015[13]["salary"])
                break

              case "2016":
                return colorValue(array2016[13]["salary"])
                break

              case "2017":
                return colorValue(array2017[13]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[13]["salary"])
                break

              case "2019":
                return colorValue(array2019[13]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '521') 
        .attr("y", '330')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("IN")
        .on("click", 
          function(d)
          {
            if(stateInterested === "IN")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "IN"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })
      
      //KY  
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "500,340 525,360 525,385 500,405 475,385 475,360")
        .attr("stroke", "black")
        .attr("id", "stateKY")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[16]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[16]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[16]["salary"])
                break

              case "2013":
                return colorValue(array2013[16]["salary"])
                break

              case "2014":
                return colorValue(array2014[16]["salary"])
                break

              case "2015":
                return colorValue(array2015[16]["salary"])
                break

              case "2016":
                return colorValue(array2016[16]["salary"])
                break

              case "2017":
                return colorValue(array2017[16]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[16]["salary"])
                break

              case "2019":
                return colorValue(array2019[16]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '484') 
        .attr("y", '380')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("KY")
        .on("click", 
          function(d)
          {
            if(stateInterested === "KY")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "KY"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })
      
      //AR   
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "470,390 495,410 495,435 470,455 445,435 445,410")
        .attr("stroke", "black")
        .attr("id", "stateAR")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[3]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[3]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[3]["salary"])
                break

              case "2013":
                return colorValue(array2013[3]["salary"])
                break

              case "2014":
                return colorValue(array2014[3]["salary"])
                break

              case "2015":
                return colorValue(array2015[3]["salary"])
                break

              case "2016":
                return colorValue(array2016[3]["salary"])
                break

              case "2017":
                return colorValue(array2017[3]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[3]["salary"])
                break

              case "2019":
                return colorValue(array2019[3]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '456') 
        .attr("y", '430')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("AR")
        .on("click", 
          function(d)
          {
            if(stateInterested === "AR")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "AR"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })
      
      //LA  
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "440,440 465,460 465,485 440,505 415,485 415,460")
        .attr("stroke", "black")
        .attr("id", "stateLA")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[17]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[17]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[17]["salary"])
                break

              case "2013":
                return colorValue(array2013[17]["salary"])
                break

              case "2014":
                return colorValue(array2014[17]["salary"])
                break

              case "2015":
                return colorValue(array2015[17]["salary"])
                break

              case "2016":
                return colorValue(array2016[17]["salary"])
                break

              case "2017":
                return colorValue(array2017[17]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[17]["salary"])
                break

              case "2019":
                return colorValue(array2019[17]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '427') 
        .attr("y", '480')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("LA")
        .on("click", 
          function(d)
          {
            if(stateInterested === "LA")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "LA"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })
      
      //OH
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "590,290 615,310 615,335 590,355 565,335 565,310")
        .attr("stroke", "black")
        .attr("id", "stateOH")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[34]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[34]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[34]["salary"])
                break

              case "2013":
                return colorValue(array2013[34]["salary"])
                break

              case "2014":
                return colorValue(array2014[34]["salary"])
                break

              case "2015":
                return colorValue(array2015[34]["salary"])
                break

              case "2016":
                return colorValue(array2016[34]["salary"])
                break

              case "2017":
                return colorValue(array2017[34]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[34]["salary"])
                break

              case "2019":
                return colorValue(array2019[34]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '575') 
        .attr("y", '330')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("OH")
        .on("click", 
          function(d)
          {
            if(stateInterested === "OH")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "OH"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })
      
      //WV  
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "560,340 585,360 585,385 560,405 535,385 535,360")
        .attr("stroke", "black")
        .attr("id", "stateWV")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[47]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[47]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[47]["salary"])
                break

              case "2013":
                return colorValue(array2013[47]["salary"])
                break

              case "2014":
                return colorValue(array2014[47]["salary"])
                break

              case "2015":
                return colorValue(array2015[47]["salary"])
                break

              case "2016":
                return colorValue(array2016[47]["salary"])
                break

              case "2017":
                return colorValue(array2017[47]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[47]["salary"])
                break

              case "2019":
                return colorValue(array2019[47]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '544') 
        .attr("y", '380')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("WV")
        .on("click", 
          function(d)
          {
            if(stateInterested === "WV")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "WV"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })
      
      //MI 
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "560,240 585,260 585,285 560,305 535,285 535,260")
        .attr("stroke", "black")
        .attr("id", "stateMI")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[21]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[21]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[21]["salary"])
                break

              case "2013":
                return colorValue(array2013[21]["salary"])
                break

              case "2014":
                return colorValue(array2014[21]["salary"])
                break

              case "2015":
                return colorValue(array2015[21]["salary"])
                break

              case "2016":
                return colorValue(array2016[21]["salary"])
                break

              case "2017":
                return colorValue(array2017[21]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[21]["salary"])
                break

              case "2019":
                return colorValue(array2019[21]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '546') 
        .attr("y", '280')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("MI")
        .on("click", 
          function(d)
          {
            if(stateInterested === "MI")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "MI"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //TN   
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "530,390 555,410 555,435 530,455 505,435 505,410")
        .attr("stroke", "black")
        .attr("id", "stateTN")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[41]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[41]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[41]["salary"])
                break

              case "2013":
                return colorValue(array2013[41]["salary"])
                break

              case "2014":
                return colorValue(array2014[41]["salary"])
                break

              case "2015":
                return colorValue(array2015[41]["salary"])
                break

              case "2016":
                return colorValue(array2016[41]["salary"])
                break

              case "2017":
                return colorValue(array2017[41]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[41]["salary"])
                break

              case "2019":
                return colorValue(array2019[41]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '516') 
        .attr("y", '430')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("TN")
        .on("click", 
          function(d)
          {
            if(stateInterested === "TN")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "TN"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //MS  
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "500,440 525,460 525,485 500,505 475,485 475,460")
        .attr("stroke", "black")
        .attr("id", "stateMS")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[23]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[23]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[23]["salary"])
                break

              case "2013":
                return colorValue(array2013[23]["salary"])
                break

              case "2014":
                return colorValue(array2014[23]["salary"])
                break

              case "2015":
                return colorValue(array2015[23]["salary"])
                break

              case "2016":
                return colorValue(array2016[23]["salary"])
                break

              case "2017":
                return colorValue(array2017[23]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[23]["salary"])
                break

              case "2019":
                return colorValue(array2019[23]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '485') 
        .attr("y", '480')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("MS")
        .on("click", 
          function(d)
          {
            if(stateInterested === "MS")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "MS"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //PA
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "650,290 675,310 675,335 650,355 625,335 625,310")
        .attr("stroke", "black")
        .attr("id", "statePA")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[37]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[37]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[37]["salary"])
                break

              case "2013":
                return colorValue(array2013[37]["salary"])
                break

              case "2014":
                return colorValue(array2014[37]["salary"])
                break

              case "2015":
                return colorValue(array2015[37]["salary"])
                break

              case "2016":
                return colorValue(array2016[37]["salary"])
                break

              case "2017":
                return colorValue(array2017[37]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[37]["salary"])
                break

              case "2019":
                return colorValue(array2019[37]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '638') 
        .attr("y", '330')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("PA")
        .on("click", 
          function(d)
          {
            if(stateInterested === "PA")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "PA"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //MD  
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "620,340 645,360 645,385 620,405 595,385 595,360")
        .attr("stroke", "black")
        .attr("id", "stateMD")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[19]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[19]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[19]["salary"])
                break

              case "2013":
                return colorValue(array2013[19]["salary"])
                break

              case "2014":
                return colorValue(array2014[19]["salary"])
                break

              case "2015":
                return colorValue(array2015[19]["salary"])
                break

              case "2016":
                return colorValue(array2016[19]["salary"])
                break

              case "2017":
                return colorValue(array2017[19]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[19]["salary"])
                break

              case "2019":
                return colorValue(array2019[19]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '604') 
        .attr("y", '380')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("MD")
        .on("click", 
          function(d)
          {
            if(stateInterested === "MD")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "MD"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //VA  
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "590,390 615,410 615,435 590,455 565,435 565,410")
        .attr("stroke", "black")
        .attr("id", "stateVA")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[45]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[45]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[45]["salary"])
                break

              case "2013":
                return colorValue(array2013[45]["salary"])
                break

              case "2014":
                return colorValue(array2014[45]["salary"])
                break

              case "2015":
                return colorValue(array2015[45]["salary"])
                break

              case "2016":
                return colorValue(array2016[45]["salary"])
                break

              case "2017":
                return colorValue(array2017[45]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[45]["salary"])
                break

              case "2019":
                return colorValue(array2019[45]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '576') 
        .attr("y", '430')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("VA")
        .on("click", 
          function(d)
          {
            if(stateInterested === "VA")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "VA"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //AL  
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "560,440 585,460 585,485 560,505 535,485 535,460")
        .attr("stroke", "black")
        .attr("id", "stateAL")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[0]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[0]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[0]["salary"])
                break

              case "2013":
                return colorValue(array2013[0]["salary"])
                break

              case "2014":
                return colorValue(array2014[0]["salary"])
                break

              case "2015":
                return colorValue(array2015[0]["salary"])
                break

              case "2016":
                return colorValue(array2016[0]["salary"])
                break

              case "2017":
                return colorValue(array2017[0]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[0]["salary"])
                break

              case "2019":
                return colorValue(array2019[0]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '545') 
        .attr("y", '480')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("AL")
        .on("click", 
          function(d)
          {
            if(stateInterested === "AL")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "AL"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //NJ
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "710,290 735,310 735,335 710,355 685,335 685,310")
        .attr("stroke", "black")
        .attr("id", "stateNJ")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[30]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[30]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[30]["salary"])
                break

              case "2013":
                return colorValue(array2013[30]["salary"])
                break

              case "2014":
                return colorValue(array2014[30]["salary"])
                break

              case "2015":
                return colorValue(array2015[30]["salary"])
                break

              case "2016":
                return colorValue(array2016[30]["salary"])
                break

              case "2017":
                return colorValue(array2017[30]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[30]["salary"])
                break

              case "2019":
                return colorValue(array2019[30]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '698') 
        .attr("y", '330')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("NJ")
        .on("click", 
          function(d)
          {
            if(stateInterested === "NJ")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "NJ"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //DE  
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "680,340 705,360 705,385 680,405 655,385 655,360")
        .attr("stroke", "black")
        .attr("id", "stateDE")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[7]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[7]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[7]["salary"])
                break

              case "2013":
                return colorValue(array2013[7]["salary"])
                break

              case "2014":
                return colorValue(array2014[7]["salary"])
                break

              case "2015":
                return colorValue(array2015[7]["salary"])
                break

              case "2016":
                return colorValue(array2016[7]["salary"])
                break

              case "2017":
                return colorValue(array2017[7]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[7]["salary"])
                break

              case "2019":
                return colorValue(array2019[7]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '666') 
        .attr("y", '380')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("DE")
        .on("click", 
          function(d)
          {
            if(stateInterested === "DE")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "DE"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //NC  
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "650,390 675,410 675,435 650,455 625,435 625,410")
        .attr("stroke", "black")
        .attr("id", "stateNC")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[32]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[32]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[32]["salary"])
                break

              case "2013":
                return colorValue(array2013[32]["salary"])
                break

              case "2014":
                return colorValue(array2014[32]["salary"])
                break

              case "2015":
                return colorValue(array2015[32]["salary"])
                break

              case "2016":
                return colorValue(array2016[32]["salary"])
                break

              case "2017":
                return colorValue(array2017[32]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[32]["salary"])
                break

              case "2019":
                return colorValue(array2019[32]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '636') 
        .attr("y", '430')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("NC")
        .on("click", 
          function(d)
          {
            if(stateInterested === "NC")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "NC"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //SC 
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "620,440 645,460 645,485 620,505 595,485 595,460")
        .attr("stroke", "black")
        .attr("id", "stateSC")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[39]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[39]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[39]["salary"])
                break

              case "2013":
                return colorValue(array2013[39]["salary"])
                break

              case "2014":
                return colorValue(array2014[39]["salary"])
                break

              case "2015":
                return colorValue(array2015[39]["salary"])
                break

              case "2016":
                return colorValue(array2016[39]["salary"])
                break

              case "2017":
                return colorValue(array2017[39]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[39]["salary"])
                break

              case "2019":
                return colorValue(array2019[39]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '607') 
        .attr("y", '480')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("SC")
        .on("click", 
          function(d)
          {
            if(stateInterested === "SC")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "SC"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })
      
      //GA  
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "590,490 615,510 615,535 590,555 565,535 565,510")
        .attr("stroke", "black")
        .attr("id", "stateGA")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[9]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[9]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[9]["salary"])
                break

              case "2013":
                return colorValue(array2013[9]["salary"])
                break

              case "2014":
                return colorValue(array2014[9]["salary"])
                break

              case "2015":
                return colorValue(array2015[9]["salary"])
                break

              case "2016":
                return colorValue(array2016[9]["salary"])
                break

              case "2017":
                return colorValue(array2017[9]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[9]["salary"])
                break

              case "2019":
                return colorValue(array2019[9]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '576') 
        .attr("y", '530')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("GA")
        .on("click", 
          function(d)
          {
            if(stateInterested === "GA")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "GA"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //FL 
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "620,540 645,560 645,585 620,605 595,585 595,560")
        .attr("stroke", "black")
        .attr("id", "stateFL")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[8]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[8]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[8]["salary"])
                break

              case "2013":
                return colorValue(array2013[8]["salary"])
                break

              case "2014":
                return colorValue(array2014[8]["salary"])
                break

              case "2015":
                return colorValue(array2015[8]["salary"])
                break

              case "2016":
                return colorValue(array2016[8]["salary"])
                break

              case "2017":
                return colorValue(array2017[8]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[8]["salary"])
                break

              case "2019":
                return colorValue(array2019[8]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '609') 
        .attr("y", '580')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("FL")
        .on("click", 
          function(d)
          {
            if(stateInterested === "FL")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "FL"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //CT
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "770,290 795,310 795,335 770,355 745,335 745,310")
        .attr("stroke", "black")
        .attr("id", "stateCT")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[6]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[6]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[6]["salary"])
                break

              case "2013":
                return colorValue(array2013[6]["salary"])
                break

              case "2014":
                return colorValue(array2014[6]["salary"])
                break

              case "2015":
                return colorValue(array2015[6]["salary"])
                break

              case "2016":
                return colorValue(array2016[6]["salary"])
                break

              case "2017":
                return colorValue(array2017[6]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[6]["salary"])
                break

              case "2019":
                return colorValue(array2019[6]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '758') 
        .attr("y", '330')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("CT")
        .on("click", 
          function(d)
          {
            if(stateInterested === "CT")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "CT"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //NY  
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "680,240 705,260 705,285 680,305 655,285 655,260")
        .attr("stroke", "black")
        .attr("id", "stateNY")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[31]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[31]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[31]["salary"])
                break

              case "2013":
                return colorValue(array2013[31]["salary"])
                break

              case "2014":
                return colorValue(array2014[31]["salary"])
                break

              case "2015":
                return colorValue(array2015[31]["salary"])
                break

              case "2016":
                return colorValue(array2016[31]["salary"])
                break

              case "2017":
                return colorValue(array2017[31]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[31]["salary"])
                break

              case "2019":
                return colorValue(array2019[31]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '666') 
        .attr("y", '280')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("NY")
        .on("click", 
          function(d)
          {
            if(stateInterested === "NY")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "NY"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //MA  
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "740,240 765,260 765,285 740,305 715,285 715,260")
        .attr("stroke", "black")
        .attr("id", "stateMA")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[20]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[20]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[20]["salary"])
                break

              case "2013":
                return colorValue(array2013[20]["salary"])
                break

              case "2014":
                return colorValue(array2014[20]["salary"])
                break

              case "2015":
                return colorValue(array2015[20]["salary"])
                break

              case "2016":
                return colorValue(array2016[20]["salary"])
                break

              case "2017":
                return colorValue(array2017[20]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[20]["salary"])
                break

              case "2019":
                return colorValue(array2019[20]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '724') 
        .attr("y", '280')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("MA")
        .on("click", 
          function(d)
          {
            if(stateInterested === "MA")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "MA"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //RI  
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "800,240 825,260 825,285 800,305 775,285 775,260")
        .attr("stroke", "black")
        .attr("id", "stateRI")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[38]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[38]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[38]["salary"])
                break

              case "2013":
                return colorValue(array2013[38]["salary"])
                break

              case "2014":
                return colorValue(array2014[38]["salary"])
                break

              case "2015":
                return colorValue(array2015[38]["salary"])
                break

              case "2016":
                return colorValue(array2016[38]["salary"])
                break

              case "2017":
                return colorValue(array2017[38]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[38]["salary"])
                break

              case "2019":
                return colorValue(array2019[38]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '788') 
        .attr("y", '280')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("RI")
        .on("click", 
          function(d)
          {
            if(stateInterested === "RI")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "RI"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //VT
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "710,190 735,210 735,235 710,255 685,235 685,210")
        .attr("stroke", "black")
        .attr("id", "stateVT")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[44]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[44]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[44]["salary"])
                break

              case "2013":
                return colorValue(array2013[44]["salary"])
                break

              case "2014":
                return colorValue(array2014[44]["salary"])
                break

              case "2015":
                return colorValue(array2015[44]["salary"])
                break

              case "2016":
                return colorValue(array2016[44]["salary"])
                break

              case "2017":
                return colorValue(array2017[44]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[44]["salary"])
                break

              case "2019":
                return colorValue(array2019[44]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '696') 
        .attr("y", '230')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("VT")
        .on("click", 
          function(d)
          {
            if(stateInterested === "VT")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "VT"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //NH
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "770,190 795,210 795,235 770,255 745,235 745,210")
        .attr("stroke", "black")
        .attr("id", "stateNH")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[28]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[28]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[28]["salary"])
                break

              case "2013":
                return colorValue(array2013[28]["salary"])
                break

              case "2014":
                return colorValue(array2014[28]["salary"])
                break

              case "2015":
                return colorValue(array2015[28]["salary"])
                break

              case "2016":
                return colorValue(array2016[28]["salary"])
                break

              case "2017":
                return colorValue(array2017[28]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[28]["salary"])
                break

              case "2019":
                return colorValue(array2019[28]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '756') 
        .attr("y", '230')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("NH")
        .on("click", 
          function(d)
          {
            if(stateInterested === "NH")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "NH"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

      //ME  
      d3.select("#vis3")   
        .append('polygon')
        .attr('points', "800,140 825,160 825,185 800,205 775,185 775,160")
        .attr("stroke", "black")
        .attr("id", "stateME")
        .attr('fill', 
          function()
          {
            yearInterested = d3.select("#selectButton").property("value")

            switch(yearInterested)
            {
              case "2010":
                return colorValue(array2010[18]["salary"])
                break
                  
              case "2011":
                return colorValue(array2011[18]["salary"])
                break
                  
              case "2012":
                return colorValue(array2012[18]["salary"])
                break

              case "2013":
                return colorValue(array2013[18]["salary"])
                break

              case "2014":
                return colorValue(array2014[18]["salary"])
                break

              case "2015":
                return colorValue(array2015[18]["salary"])
                break

              case "2016":
                return colorValue(array2016[18]["salary"])
                break

              case "2017":
                return colorValue(array2017[18]["salary"])
                break
              
              case "2018":
                return colorValue(array2018[18]["salary"])
                break

              case "2019":
                return colorValue(array2019[18]["salary"])
                break

              default:
                return "green"
                  
            }
                
          })   

      d3.select("#vis3")
        .append("text")
        .attr("x", '784') 
        .attr("y", '180')
        .attr('fill', 'black')
        .attr('stroke', 'bold')
        .attr('font-size', 20)
        .text("ME")
        .on("click", 
          function(d)
          {
            if(stateInterested === "ME")
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = null
            }
            else
            {
              d3.select("#" + stateInterested + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              d3.select("#" + stateInterested + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
              stateInterested = "ME"
              d3.select("#" + stateInterested + "").attr("stroke", "blue").attr("stroke-opacity", 0.8)
              d3.select("#" + stateInterested + "e").attr("stroke", "red").attr("stroke-opacity", 0.8)
            }
          })

    }

    
    //Updates the colors of the polygons in response to the dropdown menu change
    function update(selectedOption, array2010, array2011 ,array2012, array2013, array2014, array2015, array2016, array2017, array2018, array2019, stateInterested)
    {
      //Polygon updates
      //SAMPLE: d3.select("#HexState").attr("fill", polygonColor(data))
      //Update based on the selected value
      d3.select("#selectButton").on("change", 
        function(d) 
        {
          // recover the option that has been chosen
          var selectedOption = d3.select(this).property("value")
          d3.select("#HexTitleText").text(`US Average Annual Police Salary in ${d3.select("#selectButton").property("value")}`)
          
          //Remove the linked features and reset when selecting a new year
          updateGrayGraphs(array2010);
          drawPolygon(array2010, array2011 ,array2012, array2013, array2014, array2015, array2016, array2017, array2018, array2019, stateInterested)
          
          // run the updateChart function with this selected option
          update(selectedOption, array2010, array2011 ,array2012, array2013, array2014, array2015, array2016, array2017, array2018, array2019, stateInterested)
        });
    }

    //Makes all the graphs gray when updating to a new year
    //Also, takes in one of the arrays to make the process easier then 100 lines of the same code
    function updateGrayGraphs(array)
    {
      let i = 0;

      for(i = 0; i < 50; i++)
      {
        d3.select("#" + array[i]["state"] + "").attr("stroke", "gray").attr("stroke-opacity", 0.4)
        d3.select("#" + array[i]["state"] + "e").attr("stroke", "gray").attr("stroke-opacity", 0.4)
      }
    }

</script>